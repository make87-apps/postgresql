version: 1
interfaces:
  - name: postgres
    protocol: postgres
    servers:
      - name: postgres-server
        port:
          name: postgres
          protocol: TCP
          target_port: 5432
        spec:
          string: PostgreSQL/17
container_config:
  volumes:
    - "~/postgres-data:/var/lib/postgresql/data:rw"
config:
  type: object
  properties:
    num_backups:
      type: integer
      default: 5
      description: Number of backups to retain t ostore to cloud storage.
    backup_time:
      type: string
      default: "02:00"
      description: Daily time to perform the backup in HH:MM format (24-hour).
    postgres_user:
      type: string
      default: "postgres"
      description: PostgreSQL user with sufficient privileges to perform backups.
    postgres_password:
      type: string
      default: "yourpassword"
      description: Password for the PostgreSQL user.
    postgres_db:
      type: string
      default: "yourdatabase"
      description: Name of the PostgreSQL database to back up.
build:
  custom:
    dockerfile: Dockerfile
    platforms:
      - linux/amd64
      - linux/arm64
